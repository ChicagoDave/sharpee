# Session Summary: 2026-01-24 20:39 - main

## Status: Completed

## Goals
- Explore Sharpee's differentiators and "seminal game" concept
- Design Prompt-to-Playable authoring workflow
- Create sharpee-dslm repository for domain-specific language model
- Document IF design patterns for DSLM training

## Completed

### 1. Strategic Discussion: Sharpee's Differentiator

Explored what makes Sharpee unique. Concluded that the differentiator is **development velocity**, not technical capability (parser IF is well-established).

Key insight: The "seminal game" might not be a game at all - it might be a demo of someone describing a game and playing it minutes later.

### 2. ADR-115: Map Export CLI

Created `/docs/architecture/adrs/adr-115-map-export-cli.md`

**Supersedes ADR-113** (Map Position Hints). Instead of building a map editor to compete with Trizbort, Sharpee exports rich semantic map data for existing tools.

Key features:
- `sharpee map-export` CLI command
- Declarative `ConnectionMetadata` on `setConnection()` for blocking conditions
- Output formats: JSON, Trizbort XML, GraphViz DOT, YAML
- Shows *why* exits are blocked (troll alive, door locked, needs light)

### 3. ADR-116: Prompt-to-Playable

Created `/docs/architecture/adrs/adr-116-prompt-to-playable.md`

Comprehensive design for AI-assisted story authoring:
- Conversational spec development using `story-spec-template.md`
- Document management (versions, branches, spikes, section locking)
- Code generation from author-written specs
- Instant play mode with hot reload

**Critical constraint**: AI must NOT generate player-facing content. Author writes all prose, descriptions, dialogue. AI asks questions and handles structure/code.

### 4. Created sharpee-dslm Repository

New repository: https://github.com/ChicagoDave/sharpee-dslm

Structure:
```
sharpee-dslm/
├── README.md
├── docs/
│   ├── training-data-strategy.md
│   └── evaluation-harness.md
├── training/
│   └── data/{conversations,spec-to-code,refusals}/
├── serving/api/
├── models/
└── patterns/           # Design patterns catalog
```

### 5. IF Design Patterns Catalog

Created comprehensive pattern documentation for DSLM training:

**Design Systems (DS-XXX)** - Game-defining mechanics:
| ID | Pattern | Canonical Example |
|----|---------|-------------------|
| DS-001 | Alchemy/Crafting | Hadean Lands |
| DS-002 | Letter Manipulation | Counterfeit Monkey |
| DS-003 | Object Linking | Savoir-Faire |
| DS-004 | Spell Memorization | Enchanter |
| DS-005 | Time Loop | All Things Devours |
| DS-006 | Schedule Exploitation | Varicella |
| DS-007 | Conversation State | Galatea |
| DS-008 | Unreliable Frame | Spider and Web |

**Design Patterns (DP-XXX)** - Reusable building blocks:
- **Puzzles (12)**: Lock-and-key, light dependency, container, guardian, sequence, state machine, information, transformation, timing/fuse, weight/balance, tool use, environmental manipulation
- **Geography (7)**: Hub-and-spoke, linear progression, gated regions, vertical layers, hidden exits, maze, non-Euclidean
- **NPCs (4)**: Information source, follower, patrol, trader
- **Objects (2)**: Key item, consumable
- **Narrative (2)**: Ticking clock, in medias res
- **Structure (1)**: Tutorial integration

Each pattern includes: Intent, Structure, Variations, Design Questions, Sharpee Implementation, Anti-Patterns, Combinations, Examples.

## Key Decisions

### 1. Separate DSLM Repository
Model training has different lifecycle, artifacts (weights vs npm packages), and contributors than Sharpee platform. Clean separation with defined integration points.

### 2. Fine-Tuned Small Model is Realistic
7B-13B parameter model is achievable for this narrow domain. The constrained scope (one template, one codebase, one domain) makes fine-tuning practical.

### 3. Design Systems vs Design Patterns
- **DS (Systemic)**: Game-defining mechanics (alchemy, word-play) that create emergent puzzles
- **DP (Patterns)**: Individual building blocks that can be mixed and matched

### 4. AI Content Constraint
The DSLM must be trained to suppress prose generation. When author asks "write a description," model redirects to questions: "What atmosphere? What should player notice first?"

## Files Created/Modified

**Sharpee repo:**
- `docs/architecture/adrs/adr-115-map-export-cli.md` (new)
- `docs/architecture/adrs/adr-116-prompt-to-playable.md` (new)
- `docs/architecture/adrs/adr-113-map-position-hints.md` (marked superseded)

**sharpee-dslm repo (new):**
- `README.md`
- `docs/training-data-strategy.md`
- `docs/evaluation-harness.md`
- `patterns/README.md`
- `patterns/systemic/ds-001-008.md` (8 files)
- `patterns/puzzles/dp-001-012.md` (12 files)
- `patterns/geography/dp-100-106.md` (7 files)
- `patterns/npcs/dp-200-203.md` (4 files)
- `patterns/objects/dp-300-301.md` (2 files)
- `patterns/narrative/dp-400-401.md` (2 files)
- `patterns/structure/dp-500.md` (1 file)

## Open Items

### Patterns Still to Document
- Narrative: Discovery, multiple endings, point of no return, multiple solutions
- Structure: Difficulty curve, optional content, chapter structure
- Objects: Container, multi-state, scenery, treasure
- NPCs: Antagonist

### DSLM Next Steps
1. Training data generation pipeline from Sharpee docs
2. Synthetic conversation generation
3. Base model selection (Llama 3, Mistral)
4. Evaluation harness implementation

### Integration Points
- Sharpee CLI to call DSLM for `sharpee spec develop`
- Export training context script from Sharpee
- Versioning alignment between repos

## Notes

Session covered strategic thinking (what makes Sharpee unique), architecture (ADRs 115-116), new repository setup, and extensive documentation work (37 pattern files, ~4000 lines).

The pattern catalog is foundational training data for the DSLM - it captures IF design knowledge in a structured form that the model can reference when guiding authors.

Session ended: 2026-01-24 ~22:30
