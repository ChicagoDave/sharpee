> open trap door
Slot 'door' has type: entity
consumeEntitySlot: startIndex=1, token.word='trap', token.normalized='trap'
Checking constraints for slot 'door':
  slotConstraints exists: true
  constraints count: 0
  context.world exists: true
Building semantics for rule: open :door
Matched tokens: { verb: 'open' }
Rule semantics: undefined
Rule default semantics: undefined
Final semantics: {}


[Events]
  system.entity_resolution {"command":{"rawInput":"open trap door","tokens":[{"word":"open","normalized":"open","position":0,"length":4,"partOfSpeech":["VERB"],"candidates":[{"id":"if.action.opening","type":"verb","confidence":1}]},{"word":"trap","normalized":"trap","position":5,"length":4,"partOfSpeech":["UNKNOWN"],"candidates":[]},{"word":"door","normalized":"door","position":10,"length":4,"partOfSpeech":["UNKNOWN"],"candidates":[]}],"structure":{"verb":{"tokens":[0],"text":"open","head":"open"},"directObject":{"tokens":[1,2],"text":"trap door","head":"door","modifiers":[],"articles":[],"determiners":[],"candidates":["trap door"]}},"pattern":"VERB_NOUN","confidence":1,"action":"if.action.opening"},"objectType":"direct","reference":{"tokens":[1,2],"text":"trap door","head":"door","modifiers":[],"articles":[],"determiners":[],"candidates":["trap door"]},"requiredScope":3,"startTime":1768402107750}
  system.entity_search {"command":{"rawInput":"open trap door","tokens":[{"word":"open","normalized":"open","position":0,"length":4,"partOfSpeech":["VERB"],"candidates":[{"id":"if.action.opening","type":"verb","confidence":1}]},{"word":"trap","normalized":"trap","position":5,"length":4,"partOfSpeech":["UNKNOWN"],"candidates":[]},{"word":"door","normalized":"door","position":10,"length":4,"partOfSpeech":["UNKNOWN"],"candidates":[]}],"structure":{"verb":{"tokens":[0],"text":"open","head":"open"},"directObject":{"tokens":[1,2],"text":"trap door","head":"door","modifiers":[],"articles":[],"determiners":[],"candidates":["trap door"]}},"pattern":"VERB_NOUN","confidence":1,"action":"if.action.opening"},"searchTerm":"door","byName":6,"byType":1,"bySynonym":5,"totalBeforeDedupe":6}
  system.scope_check {"command":{"rawInput":"open trap door","tokens":[{"word":"open","normalized":"open","position":0,"length":4,"partOfSpeech":["VERB"],"candidates":[{"id":"if.action.opening","type":"verb","confidence":1}]},{"word":"trap","normalized":"trap","position":5,"length":4,"partOfSpeech":["UNKNOWN"],"candidates":[]},{"word":"door","normalized":"door","position":10,"length":4,"partOfSpeech":["UNKNOWN"],"candidates":[]}],"structure":{"verb":{"tokens":[0],"text":"open","head":"open"},"directObject":{"tokens":[1,2],"text":"trap door","head":"door","modifiers":[],"articles":[],"determiners":[],"candidates":["trap door"]}},"pattern":"VERB_NOUN","confidence":1,"action":"if.action.opening"},"objectType":"direct","requiredScope":3,"totalCandidates":5,"entitiesInScope":2,"candidateScopes":[{"id":"d01","name":"small door","type":"door","location":"r0q","scope":0,"meetsRequired":false,"visible":false,"reachable":false,"touchable":false},{"id":"y01","name":"front door","type":"scenery","location":"r01","scope":0,"meetsRequired":false,"visible":false,"reachable":false,"touchable":false},{"id":"y08","name":"trapdoor","type":"scenery","location":"r06","scope":3,"meetsRequired":true,"visible":true,"reachable":true,"touchable":true},{"id":"y0a","name":"wooden door","type":"scenery","location":"r06","scope":3,"meetsRequired":true,"visible":true,"reachable":true,"touchable":true},{"id":"o0b","name":"bronze door","type":"object","location":"r4o","scope":0,"meetsRequired":false,"visible":false,"reachable":false,"touchable":false}],"scopeDetails":[{"id":"y08","name":"trapdoor","visible":true,"reachable":true,"touchable":true},{"id":"y0a","name":"wooden door","visible":true,"reachable":true,"touchable":true}]}
  system.ambiguity_resolution {"command":{"rawInput":"open trap door","tokens":[{"word":"open","normalized":"open","position":0,"length":4,"partOfSpeech":["VERB"],"candidates":[{"id":"if.action.opening","type":"verb","confidence":1}]},{"word":"trap","normalized":"trap","position":5,"length":4,"partOfSpeech":["UNKNOWN"],"candidates":[]},{"word":"door","normalized":"door","position":10,"length":4,"partOfSpeech":["UNKNOWN"],"candidates":[]}],"structure":{"verb":{"tokens":[0],"text":"open","head":"open"},"directObject":{"tokens":[1,2],"text":"trap door","head":"door","modifiers":[],"articles":[],"determiners":[],"candidates":["trap door"]}},"pattern":"VERB_NOUN","confidence":1,"action":"if.action.opening"},"reference":{"tokens":[1,2],"text":"trap door","head":"door","modifiers":[],"articles":[],"determiners":[],"candidates":["trap door"]},"matchCount":2,"topMatches":[{"entity":"y08","name":"trapdoor","score":8,"reasons":["synonym_match","visible","reachable"]},{"entity":"y0a","name":"wooden door","score":8,"reasons":["synonym_match","visible","reachable"]}]}
  system.ambiguity_resolution {"command":{"rawInput":"open trap door","tokens":[{"word":"open","normalized":"open","position":0,"length":4,"partOfSpeech":["VERB"],"candidates":[{"id":"if.action.opening","type":"verb","confidence":1}]},{"word":"trap","normalized":"trap","position":5,"length":4,"partOfSpeech":["UNKNOWN"],"candidates":[]},{"word":"door","normalized":"door","position":10,"length":4,"partOfSpeech":["UNKNOWN"],"candidates":[]}],"structure":{"verb":{"tokens":[0],"text":"open","head":"open"},"directObject":{"tokens":[1,2],"text":"trap door","head":"door","modifiers":[],"articles":[],"determiners":[],"candidates":["trap door"]}},"pattern":"VERB_NOUN","confidence":1,"action":"if.action.opening"},"resolved":false,"method":"none","remainingCount":2}
  system.entity_resolution {"command":{"rawInput":"open trap door","tokens":[{"word":"open","normalized":"open","position":0,"length":4,"partOfSpeech":["VERB"],"candidates":[{"id":"if.action.opening","type":"verb","confidence":1}]},{"word":"trap","normalized":"trap","position":5,"length":4,"partOfSpeech":["UNKNOWN"],"candidates":[]},{"word":"door","normalized":"door","position":10,"length":4,"partOfSpeech":["UNKNOWN"],"candidates":[]}],"structure":{"verb":{"tokens":[0],"text":"open","head":"open"},"directObject":{"tokens":[1,2],"text":"trap door","head":"door","modifiers":[],"articles":[],"determiners":[],"candidates":["trap door"]}},"pattern":"VERB_NOUN","confidence":1,"action":"if.action.opening"},"objectType":"direct","resolved":false,"reason":"modifiers_not_matched","searchText":"trap door","specifiedModifiers":["trap"]}
  command.failed {"reason":"Validation failed: ENTITY_NOT_FOUND","input":"open trap door"}