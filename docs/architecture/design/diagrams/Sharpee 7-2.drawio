<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0" version="27.2.0">
  <diagram name="Sharpee Architecture" id="XVtlFw9z2DN9XCxLdX0w">
    <mxGraphModel dx="2778" dy="1500" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="jT9VN07XUMYjOLwdFksF-1" value="Sharpee IF Engine - Package Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1090" y="20" width="600" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="jT9VN07XUMYjOLwdFksF-3" target="jT9VN07XUMYjOLwdFksF-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-8" value="@sharpee/stdlib" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=14" vertex="1" parent="1">
          <mxGeometry x="100" y="350" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-9" value="Exports:&#xa;• Actions (Take, Drop, Look, Go, etc.)&#xa;• ActionRegistry, StandardActionRegistry&#xa;• BasicParser, CommandValidator&#xa;• VocabularyRegistry, LanguageProvider&#xa;• Standard action implementations&#xa;• Parser utilities&#xa;• Vocabulary types" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="100" y="390" width="400" height="140" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-10" value="@sharpee/engine" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=14" vertex="1" parent="1">
          <mxGeometry x="600" y="350" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-11" value="Exports:&#xa;• GameEngine, createGameEngine&#xa;• CommandExecutor, createCommandExecutor&#xa;• EventSequencer, EventSequenceUtils&#xa;• Story, StoryConfig interfaces&#xa;• TextService, TextChannel&#xa;• TurnResult, GameContext, EngineConfig&#xa;• createStandardEngine, createEngineWithStory" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="600" y="390" width="400" height="140" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-12" value="@sharpee/lang-en-us" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=14" vertex="1" parent="1">
          <mxGeometry x="1100" y="350" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-13" value="Exports:&#xa;• EnglishLanguageProvider&#xa;• Message templates&#xa;• Verb definitions&#xa;• Direction vocabulary&#xa;• Articles, prepositions&#xa;• Pluralization rules" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="1100" y="390" width="400" height="100" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-14" value="@sharpee/extension-conversation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;fontSize=14" vertex="1" parent="1">
          <mxGeometry x="1600" y="100" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-15" value="Exports:&#xa;• ConversationExtension&#xa;• ConversationTrait&#xa;• Dialogue system types&#xa;• Topic management&#xa;• NPC conversation handlers" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="1600" y="140" width="400" height="100" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-16" value="@sharpee/client-core" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;fontSize=14" vertex="1" parent="1">
          <mxGeometry x="100" y="600" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-17" value="Exports:&#xa;• Client base classes&#xa;• UI abstractions&#xa;• Command processing&#xa;• Output formatting&#xa;• Session management" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="100" y="640" width="400" height="100" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-18" value="@sharpee/story-cloak-of-darkness" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;fontSize=14" vertex="1" parent="1">
          <mxGeometry x="600" y="600" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-19" value="Exports:&#xa;• CloakOfDarknessStory class&#xa;• Story configuration&#xa;• Custom actions&#xa;• Game-specific logic" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="600" y="640" width="400" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-20" value="@sharpee/forge (NOT IMPLEMENTED)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cccccc;strokeColor=#999999;fontStyle=1;fontSize=14;dashed=1" vertex="1" parent="1">
          <mxGeometry x="1100" y="600" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-21" value="Planned Exports:&#xa;• StoryBuilder fluent API&#xa;• LocationBuilder, ItemBuilder&#xa;• CharacterBuilder, ActionBuilder&#xa;• Rule system&#xa;• Template management" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#999999;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;dashed=1" vertex="1" parent="1">
          <mxGeometry x="1100" y="640" width="400" height="100" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#6c8ebf;strokeWidth=2;" edge="1" parent="1" source="jT9VN07XUMYjOLwdFksF-4" target="jT9VN07XUMYjOLwdFksF-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#82b366;strokeWidth=2;" edge="1" parent="1" source="jT9VN07XUMYjOLwdFksF-8" target="jT9VN07XUMYjOLwdFksF-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#d79b00;strokeWidth=2;" edge="1" parent="1" source="jT9VN07XUMYjOLwdFksF-11" target="jT9VN07XUMYjOLwdFksF-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-29" value="Package Types:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1600" y="350" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-30" value="Core Infrastructure" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="1600" y="380" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-31" value="Runtime/Engine" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="1600" y="420" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-32" value="Language Support" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="1600" y="460" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-33" value="Extensions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="1600" y="500" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-34" value="Client/UI" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="1600" y="540" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-35" value="Stories/Content" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="1600" y="580" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-36" value="Not Implemented" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cccccc;strokeColor=#999999;fontSize=12;dashed=1" vertex="1" parent="1">
          <mxGeometry x="1600" y="620" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-37" value="Notes:&#xa;• Arrows show compile-time dependencies&#xa;• All packages depend on @sharpee/core for base types&#xa;• @sharpee/forge is excluded from builds&#xa;• Extension packages are optional&#xa;• Stories are standalone content packages" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="100" y="800" width="400" height="100" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-38" value="Available Traits in @sharpee/world-model:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1770" y="260" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-39" value="• IdentityTrait - name, description, aliases&#xa;• ContainerTrait - can hold other entities&#xa;• SupporterTrait - entities can be placed on top&#xa;• RoomTrait - locations with exits&#xa;• ActorTrait - player/NPC capabilities&#xa;• WearableTrait - clothing/accessories&#xa;• EdibleTrait - food/consumables&#xa;• SceneryTrait - fixed decorations&#xa;• OpenableTrait - can be opened/closed&#xa;• LockableTrait - requires keys&#xa;• SwitchableTrait - on/off states&#xa;• ReadableTrait - has readable text&#xa;• LightSourceTrait - provides illumination&#xa;• DoorTrait - connects rooms&#xa;• ExitTrait - one-way passages&#xa;• EntryTrait - arrival points" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f0f0f0;strokeColor=#999999;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="1790" y="305" width="280" height="220" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-40" value="Standard Actions in @sharpee/stdlib:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1770" y="540" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-41" value="• TAKE - pick up items&#xa;• DROP - put down items&#xa;• LOOK - examine surroundings&#xa;• EXAMINE - inspect specific items&#xa;• GO - move between rooms&#xa;• INVENTORY - list carried items&#xa;• OPEN - open containers/doors&#xa;• CLOSE - close containers/doors&#xa;• LOCK - lock with key&#xa;• UNLOCK - unlock with key&#xa;• PUT - place items in/on things&#xa;• WEAR - put on wearables&#xa;• REMOVE - take off wearables&#xa;• EAT - consume edibles&#xa;• READ - read text on items&#xa;• TURN ON/OFF - switch states" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f0f0f0;strokeColor=#999999;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="1790" y="580" width="250" height="220" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-44" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="600" y="30" width="400" height="190" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-4" value="@sharpee/world-model" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=14" vertex="1" parent="jT9VN07XUMYjOLwdFksF-44">
          <mxGeometry width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-5" value="Exports:&#xa;• WorldModel, IFEntity&#xa;• All Trait classes (IdentityTrait, ContainerTrait, etc.)&#xa;• TraitType enum, Trait interface&#xa;• ParsedCommand, ValidatedCommand&#xa;• Parser, CommandValidator interfaces&#xa;• Direction constants&#xa;• EntityStore, ScopeService&#xa;• Extension system types" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="jT9VN07XUMYjOLwdFksF-44">
          <mxGeometry y="40" width="400" height="150" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="jT9VN07XUMYjOLwdFksF-5" target="jT9VN07XUMYjOLwdFksF-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-46" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="120" y="30" width="400" height="180" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-2" value="@sharpee/core" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=14" vertex="1" parent="jT9VN07XUMYjOLwdFksF-46">
          <mxGeometry width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-3" value="Exports:&#xa;• Entity, EntityId, EntityCreationParams&#xa;• SemanticEvent, EventData&#xa;• EventHandler, EventEmitter&#xa;• WorldChange, WorldSnapshot&#xa;• GameContext, TurnContext&#xa;• Channel types&#xa;• Base types and interfaces" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="jT9VN07XUMYjOLwdFksF-46">
          <mxGeometry y="40" width="400" height="140" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-47" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1100" y="100" width="400" height="140" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-6" value="@sharpee/event-processor" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=14" vertex="1" parent="jT9VN07XUMYjOLwdFksF-47">
          <mxGeometry width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-7" value="Exports:&#xa;• EventProcessor class&#xa;• ProcessedEvents, ProcessorOptions&#xa;• EventHandler registration&#xa;• Standard event handlers&#xa;• Re-exports: SemanticEvent, WorldModel, WorldChange" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="jT9VN07XUMYjOLwdFksF-47">
          <mxGeometry y="40" width="400" height="100" as="geometry" />
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="jT9VN07XUMYjOLwdFksF-3" target="jT9VN07XUMYjOLwdFksF-7">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="320" y="290" />
              <mxPoint x="1300" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jT9VN07XUMYjOLwdFksF-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="jT9VN07XUMYjOLwdFksF-7" target="jT9VN07XUMYjOLwdFksF-10">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1400" y="320" />
              <mxPoint x="900" y="320" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
