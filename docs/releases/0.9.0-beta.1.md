# Sharpee 0.9.0-beta.1 Release Notes

**Release Date:** January 1, 2026
**Status:** Beta (Pre-release)

## Overview

This is the first public beta release of Sharpee, a TypeScript-based Interactive Fiction engine designed for building parser-based text adventures. Sharpee draws inspiration from classic IF systems like Inform and TADS while leveraging modern TypeScript tooling and architecture.

## What's Included

### Core Packages

| Package | Description |
|---------|-------------|
| `@sharpee/core` | Core types, events, IFID utilities, and foundational infrastructure |
| `@sharpee/if-domain` | Domain contracts, grammar builder, and parser interfaces |
| `@sharpee/world-model` | Entity system with traits and behaviors |
| `@sharpee/engine` | Game loop, command execution, turn management |
| `@sharpee/stdlib` | 43 standard actions (take, drop, open, go, etc.) |
| `@sharpee/parser-en-us` | English natural language parser |
| `@sharpee/lang-en-us` | English language output and messages |
| `@sharpee/sharpee` | Meta-package aggregating all components + CLI |

### Installation

```bash
npm install @sharpee/sharpee@0.9.0-beta.1
```

### CLI

```bash
# Generate a new IFID for your story
npx @sharpee/sharpee ifid generate

# Validate an IFID
npx @sharpee/sharpee ifid validate YOUR-IFID-HERE
```

## Key Features

### IFID Support (ADR-074)

Full Treaty of Babel compliance for Interactive Fiction Identifiers:

- **Generate IFIDs**: UUID v4 format, uppercase
- **Validate IFIDs**: 8-63 characters, A-Z/0-9/hyphen only
- **Story Metadata**: Configure in package.json under `sharpee` key

```json
{
  "sharpee": {
    "ifid": "621168D1-6D5C-449F-83D5-841D03A1BF78",
    "title": "My Story",
    "author": "Your Name",
    "firstPublished": "2026"
  }
}
```

### Grammar Enhancements (ADR-080)

Advanced parser features for classic IF patterns:

- **Multi-object commands**: `take all`, `drop all but lamp`, `take knife and sword`
- **Instrument clauses**: `attack troll with sword`, `unlock door with key`
- **Text slots**: Capture raw text for commands like `say "hello"`
- **Greedy text**: Pattern `incant :words...` captures everything after verb

### Three-Phase Action Pattern (ADR-051)

All 43 stdlib actions follow a consistent pattern:

1. **Validate**: Check preconditions, return validation result
2. **Execute**: Perform the action, emit semantic events
3. **Report**: Language layer renders events to text

### Entity System

- **Traits**: Composable properties (Container, Openable, Lockable, etc.)
- **Behaviors**: Reusable logic attached to traits
- **Semantic Events**: Actions emit events, not text strings

### Language Layer Separation

- Engine/stdlib emit message IDs, not English strings
- `lang-en-us` provides actual prose
- Designed for internationalization

## Standard Actions (43 total)

| Category | Actions |
|----------|---------|
| Movement | going, entering, exiting |
| Manipulation | taking, dropping, putting, inserting, removing |
| Containers | opening, closing, locking, unlocking |
| Devices | switching_on, switching_off |
| Clothing | wearing, taking_off |
| Combat | attacking |
| Senses | looking, examining, searching, listening, smelling, touching |
| Communication | talking, reading, showing |
| Consumption | eating, drinking |
| Physical | pushing, pulling, climbing, throwing, giving |
| Meta | inventory, help, about, scoring, saving, restoring, restarting, quitting, waiting |

## Architecture Highlights

- **Monorepo**: pnpm workspace with independent packages
- **TypeScript**: Full type safety throughout
- **Event-Driven**: Semantic events flow through the system
- **Extensible**: Stories can extend grammar, add actions, override behaviors

## Example Story Structure

```
my-story/
├── package.json          # With sharpee config and IFID
├── src/
│   ├── index.ts          # Story entry point
│   ├── regions/
│   │   └── starting-area/
│   │       ├── index.ts
│   │       ├── rooms/
│   │       └── objects/
│   └── npcs/
└── tests/
    └── transcripts/      # Transcript-based testing
```

## Known Limitations (Beta)

- No npm publish yet (packages available via GitHub)
- Documentation is work-in-progress
- Save/restore needs platform integration
- No web player bundled (CLI only for now)

## What's Next

- npm publishing setup
- Getting Started guide
- API documentation (TypeDoc)
- Web player platform
- More stdlib actions as needed

## Dogfooding: Project Dungeo

Sharpee is being validated through DUNGEO, a full implementation of 1981 Mainframe Zork (~191 rooms, 616+ points). This ensures the engine can handle real-world IF complexity.

Current progress: ~150 rooms, 500+ points implemented.

## Contributing

Issues and feedback welcome at: https://github.com/ChicagoDave/sharpee/issues

## License

MIT License
