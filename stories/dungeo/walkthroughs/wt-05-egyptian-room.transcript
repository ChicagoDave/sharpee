title: Egyptian Room (Gold Coffin)
story: dungeo
description: Get gold coffin from Egyptian Room. Chain after dam-reservoir.
---

# ============================================================================
# Use GDT to ensure correct state for this segment
# ============================================================================

> gdt
[OK: contains "GDT"]

# Ensure we have torch and lantern
> tk torch
[OK: matches /(Taken|already)/i]

> tk brass lantern
[OK: matches /(Taken|already)/i]

> ex
[OK: contains "Returning"]

# Turn on light source
> turn on lantern
[OK: matches /(on|lit|light|already)/i]

# ============================================================================
# GOAL: Navigate to Egyptian Room (using GDT)
# ============================================================================

[GOAL: Get to Egyptian Room]

> gdt
[OK: contains "GDT"]

> ah Egyptian Room
[OK: contains "Teleported"]

> ex
[OK: contains "Returning"]

[END GOAL]

# ============================================================================
# GOAL: Get gold coffin
# ============================================================================

[GOAL: Get gold coffin]
[ENSURES: inventory contains "coffin"]

> look
[OK: contains "coffin"]

> take coffin
[OK: matches /(Taken|take)/i]

> inventory
[OK: contains "coffin"]

[END GOAL]

# ============================================================================
# GOAL: Return to Living Room (using GDT)
# ============================================================================

[GOAL: Return to Living Room]

> gdt
[OK: contains "GDT"]

> ah Living Room
[OK: contains "Teleported"]

> ex
[OK: contains "Returning"]

[END GOAL]

# ============================================================================
# GOAL: Store treasure in trophy case
# ============================================================================

[GOAL: Store coffin in trophy case]

> open trophy case
[OK: matches /(open|Opening|already)/i]

> put coffin in trophy case
[OK: matches /(put|Done|place)/i]

[END GOAL]

# ============================================================================
# GOAL: Verify final state
# ============================================================================

[GOAL: Verify inventory for next segment]

> inventory
[OK: contains "torch"]
[OK: contains "lantern"]

> look
[OK: contains "Living Room"]
[OK: contains "trophy case"]

[END GOAL]

# SUCCESS! Egyptian Room complete
# Treasures stored: coffin (+ previous)
# Player in Living Room with torch + lantern
# Ready for next segment
