title: Get Torch Early (Save Lantern Battery)
story: dungeo
description: Priority path - get the torch ASAP to minimize lantern usage. Torch is unlimited, lantern has 330 turns.
---

# ============================================================================
# GOAL: Get torch as quickly as possible
# Critical path: Attic (rope) -> Living Room (lantern, sword) -> Underground -> Dome Room -> Torch Room
# ============================================================================

[GOAL: Collect essential items from house]
[ENSURES: inventory contains "rope"]
[ENSURES: inventory contains "lantern"]
[ENSURES: inventory contains "sword"]

# Start at West of House
> look
[OK: contains "West of House"]

# Enter house via back window
> north
[OK: contains "North"]

> east
[OK: contains "Behind House"]

> open window
[OK: contains "open"]

> west
[OK: contains "Kitchen"]

> west
[OK: contains "Living Room"]

> take lantern
[OK: contains "Taken"]

> take sword
[OK: contains "Taken"]

> turn on lantern
[OK: contains "on"]

> east
[OK: contains "Kitchen"]

> up
[OK: contains "Attic"]

> take rope
[OK: contains "Taken"]

[END GOAL]

# ============================================================================
# GOAL: Enter underground and kill troll
# ============================================================================

[GOAL: Enter cellar and defeat troll]
[REQUIRES: inventory contains "lantern"]
[REQUIRES: inventory contains "sword"]

> down
[OK: contains "Kitchen"]

> west
[OK: contains "Living Room"]

> move rug
[OK: contains "trap door"]

> open trapdoor
[OK: contains "open"]

> down
[OK: contains "Cellar"]

> east
[OK: contains "Troll Room"]

# Kill troll - melee combat (canonical MDL engine, may take several hits)
# Troll OSTRENGTH=2, sword is best weapon (penalty -1), so effective DEF=1
# Per-attack: 33% miss, 22% stagger, 33% light wound, 11% unconscious
# Player can also get staggered by troll counter-attacks (wastes a turn)
# 30 attacks gives >99% kill probability accounting for player staggers.
# ENSURES postcondition verifies troll dies.
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword
> attack troll with sword

[ENSURES: not entity "troll" alive]

[END GOAL]

# ============================================================================
# GOAL: Navigate to Dome Room and use rope puzzle
# ============================================================================

[GOAL: Get to Dome Room]

> north
[OK: contains "East-West Passage"]

# Teleport to Dome Room (Round Room carousel makes navigation unreliable)
$teleport Dome Room

> look
[OK: contains "Dome Room"]

[END GOAL]

# ============================================================================
# GOAL: Tie rope and descend to Torch Room
# ============================================================================

[GOAL: Get the torch]
[REQUIRES: inventory contains "rope"]
[ENSURES: inventory contains "torch"]

> tie rope to railing
[OK: contains "rope"]

> down
[OK: contains "Torch Room"]

> take torch
[OK: contains "Taken"]

[END GOAL]

# ============================================================================
# GOAL: Switch to torch, save lantern battery
# ============================================================================

[GOAL: Switch light sources]

# Torch is always lit (perpetual flame) - no need to switch on
> turn on torch

> turn off lantern
[OK: contains "off"]

# Verify we still have light
> look
[OK: contains "Torch Room"]

# Down to underground
> down
[OK: contains "North/South Crawlway"]

# South and Northwest to Gallery
> south
[OK: contains "Studio"]

> northwest
[OK: contains "Gallery"]

# We'll get the painting on the way out of the bank

[END GOAL]

# Save checkpoint for next walkthrough
$save wt-01
