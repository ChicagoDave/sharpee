title: Dam and Reservoir (Loud Room, Dam Puzzle, Trunk)
story: dungeo
description: Get platinum bar from Loud Room, drain reservoir, get trunk. Chain after maze-cyclops-goal.
---

# ============================================================================
# Starting state: Living Room with torch only (10 weight)
# Items in Living Room: lantern, incense, skeleton key (dropped from wt-03)
# Treasures in trophy case: portrait, painting, zorkmid bills
# ============================================================================

# Pick up lantern - need light source for underground
> take lantern
[OK: matches /(Taken|take)/i]

# ============================================================================
# GOAL: Navigate to Loud Room for platinum bar
# Path: Living Room → Cellar → Troll Room → E/W Passage → Round Room
#       → N/S Passage → Loud Room
# ============================================================================

[GOAL: Get to Loud Room]

> open trapdoor
[OK: matches /(open|Opening|already)/i]

> down
[OK: contains "Cellar"]

> east
[OK: contains "Troll Room"]

# Troll was killed in wt-01, passage should be clear
> north
[OK: contains "Passage"]

> east
[OK: contains "Round Room"]

> northeast
[OK: contains "Passage"]

> northeast
[OK: contains "Loud Room"]

[END GOAL]

# ============================================================================
# GOAL: Solve Loud Room puzzle - say "echo" to get platinum bar
# The bar is too heavy to carry out normally - saying "echo" silences room
# ============================================================================

[GOAL: Get platinum bar]
[ENSURES: inventory contains "bar"]

> look
[OK: contains "platinum"]

# Say "echo" to silence the room - required before taking the bar
# Use bare "echo" command (mainframe Zork style)
> echo
[OK: matches /(echo|quiet|silence|safe|acoustic|dissipate)/i]

> take bar
[OK: matches /(Taken|take)/i]

> inventory
[OK: contains "bar"]

[END GOAL]

# ============================================================================
# GOAL: Navigate to Dam area
# Path: Loud Room → N/S Passage → Round Room → Deep Canyon → Dam Lobby
# ============================================================================

[GOAL: Get to Maintenance Room]

> southwest
[OK: contains "Passage"]

> southwest
[OK: contains "Round Room"]

> northwest
[OK: contains "Canyon"]

> north
[OK: contains "Dam Lobby"]

> east
[OK: contains "Maintenance Room"]

[END GOAL]

# ============================================================================
# GOAL: Press yellow button to enable dam bolt, get wrench
# ============================================================================

[GOAL: Enable dam controls]

> look
[OK: contains "panel"]

# Press yellow button to enable the bolt at the dam
> press yellow
[OK: matches /(Click|press|button)/i]

# Get the wrench - needed to turn the bolt
> take wrench
[OK: matches /(Taken|take)/i]

[END GOAL]

# ============================================================================
# GOAL: Go to Dam and turn bolt to start draining
# ============================================================================

[GOAL: Start reservoir draining]

> west
[OK: contains "Dam Lobby"]

> north
[OK: contains "Dam"]

# Turn the bolt with the wrench to open sluice gates
> turn bolt
[OK: matches /(sluice|gates|drain|open)/i]

[END GOAL]

# ============================================================================
# GOAL: Wait for reservoir to drain (10 turns total)
# Stage 2 at turn 5, Stage 3 at turn 8, Complete at turn 10
# ============================================================================

[GOAL: Wait for draining to complete]

# Drop wrench - no longer needed (saves weight)
> drop wrench
[OK: matches /(drop|Dropped)/i]

# Wait for draining - 10 turns needed
> wait
[OK: matches /(time passes|wait)/i]

> wait
[OK: matches /(time passes|wait)/i]

> wait
[OK: matches /(time passes|wait)/i]

> wait
[OK: matches /(time passes|wait)/i]

# Turn 5 - water dropping message
> wait
[OK: matches /(time passes|wait|dropping|draining)/i]

> wait
[OK: matches /(time passes|wait)/i]

> wait
[OK: matches /(time passes|wait)/i]

# Turn 8 - nearly empty message
> wait
[OK: matches /(time passes|wait|nearly|almost)/i]

> wait
[OK: matches /(time passes|wait)/i]

# Turn 10 - trunk revealed
> wait
[OK: matches /(time passes|wait|trunk|revealed|drained)/i]

[END GOAL]

# ============================================================================
# GOAL: Navigate through reservoir and get trunk
# ============================================================================

[GOAL: Get trunk of jewels]
[ENSURES: inventory contains "trunk"]

> north
[OK: contains "Reservoir"]

> north
[OK: contains "Reservoir"]

# The trunk should be visible now
> look
[OK: contains "trunk"]

> take trunk
[OK: matches /(Taken|take)/i]

[END GOAL]

# ============================================================================
# GOAL: Return to Living Room
# Path: Reservoir → Reservoir South → Dam → Dam Lobby → Deep Canyon
#       → Round Room → E/W Passage → Troll Room → Cellar → Living Room
# ============================================================================

[GOAL: Return to Living Room]

> south
[OK: contains "Reservoir"]

> south
[OK: contains "Dam"]

> south
[OK: contains "Dam Lobby"]

> south
[OK: contains "Canyon"]

> southeast
[OK: contains "Round Room"]

> west
[OK: contains "Passage"]

> south
[OK: contains "Troll Room"]

> west
[OK: contains "Cellar"]

> up
[OK: contains "Living Room"]

[END GOAL]

# ============================================================================
# GOAL: Store treasures and setup for next segment
# ============================================================================

[GOAL: Store treasures in trophy case]

> open trophy case
[OK: matches /(open|Opening|already)/i]

> put trunk in trophy case
[OK: matches /(put|Done|place)/i]

> put bar in trophy case
[OK: matches /(put|Done|place)/i]

[END GOAL]

# ============================================================================
# GOAL: Verify final state - torch and lantern only
# ============================================================================

[GOAL: Verify inventory for next segment]

# Keep torch (primary light, treasure)
# Keep lantern (backup light source for gas room later)
> inventory
[OK: contains "torch"]
[OK: contains "lantern"]

# Verify treasures were stored (put commands passed above)
# Trophy case now has: portrait, painting, zorkmid bills, trunk, platinum bar
> look
[OK: contains "Living Room"]
[OK: contains "trophy case"]

[END GOAL]

# SUCCESS! Dam & Reservoir complete
# Treasures stored: trunk of jewels, platinum bar (+ previous 3)
# Player in Living Room with torch + lantern
# Ready for next segment (Temple & Coffin)
