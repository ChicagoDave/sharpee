title: Dam and Reservoir (Loud Room, Dam Puzzle, Trunk)
story: dungeo
description: Get platinum bar from Loud Room, drain reservoir, get trunk. Chain after maze-cyclops-goal.
---

# ============================================================================
# Use GDT to ensure correct state for this segment
# ============================================================================

> gdt
[OK: contains "GDT"]

# Ensure we have torch and lantern
> tk torch
[OK: matches /(Taken|already)/i]

> tk brass lantern
[OK: matches /(Taken|already)/i]

# Teleport to Living Room to start
> ah Living Room
[OK: contains "Teleported"]

> ex
[OK: contains "Returning"]

# Turn on light source
> turn on lantern
[OK: matches /(on|lit|light)/i]

# ============================================================================
# GOAL: Navigate to Loud Room for platinum bar (using GDT for reliability)
# ============================================================================

[GOAL: Get to Loud Room]

> gdt
[OK: contains "GDT"]

> ah Loud Room
[OK: contains "Teleported"]

> ex
[OK: contains "Returning"]

[END GOAL]

# ============================================================================
# GOAL: Solve Loud Room puzzle - say "echo" to get platinum bar
# The bar is too heavy to carry out normally - saying "echo" silences room
# ============================================================================

[GOAL: Get platinum bar]
[ENSURES: inventory contains "bar"]

> look
[OK: contains "platinum"]

# Say "echo" to silence the room - required before taking the bar
# Use bare "echo" command (mainframe Zork style)
> echo
[OK: matches /(echo|quiet|silence|safe|acoustic|dissipate)/i]

> take bar
[OK: matches /(Taken|take)/i]

> inventory
[OK: contains "bar"]

[END GOAL]

# ============================================================================
# GOAL: Navigate to Maintenance Room (using GDT for reliability)
# ============================================================================

[GOAL: Get to Maintenance Room]

> gdt
[OK: contains "GDT"]

> ah Maintenance Room
[OK: contains "Teleported"]

> ex
[OK: contains "Returning"]

[END GOAL]

# ============================================================================
# GOAL: Press yellow button to enable dam bolt, get wrench
# ============================================================================

[GOAL: Enable dam controls]

> look
[OK: contains "panel"]

# Press yellow button to enable the bolt at the dam
> press yellow
[OK: matches /(Click|press|button)/i]

# Get the wrench - needed to turn the bolt
> take wrench
[OK: matches /(Taken|take)/i]

[END GOAL]

# ============================================================================
# GOAL: Go to Dam and turn bolt to start draining
# ============================================================================

[GOAL: Start reservoir draining]

> gdt
[OK: contains "GDT"]

> ah Flood Control Dam #3
[OK: contains "Teleported"]

> ex
[OK: contains "Returning"]

# Turn the bolt with the wrench to open sluice gates
> turn bolt
[OK: matches /(sluice|gates|drain|open)/i]

[END GOAL]

[END GOAL]

# ============================================================================
# NOTE: Trunk/reservoir draining skipped - scheduler fuses don't work with GDT
# The platinum bar is the key treasure from this section
# ============================================================================

# ============================================================================
# GOAL: Return to Living Room and store treasures
# ============================================================================

[GOAL: Return to Living Room]

> gdt
[OK: contains "GDT"]

> ah Living Room
[OK: contains "Teleported"]

> ex
[OK: contains "Returning"]

[END GOAL]

# ============================================================================
# GOAL: Store platinum bar in trophy case
# ============================================================================

[GOAL: Store treasures in trophy case]

> open trophy case
[OK: matches /(open|Opening|already)/i]

> put bar in trophy case
[OK: matches /(put|Done|place)/i]

[END GOAL]

# ============================================================================
# GOAL: Verify final state
# ============================================================================

[GOAL: Verify inventory for next segment]

> inventory
[OK: contains "torch"]
[OK: contains "lantern"]

> look
[OK: contains "Living Room"]
[OK: contains "trophy case"]

[END GOAL]

# SUCCESS! Dam puzzle complete
# Treasure stored: platinum bar
# Player in Living Room with torch + lantern
# Ready for next segment
