title: River & Rainbow (Emerald, Pot of Gold)
story: dungeo
description: Get emerald from buoy, wave stick for rainbow, get pot of gold. Restores from wt-06.
---

# Restore state from wt-06 (player at Living Room)
$restore wt-06

# ============================================================================
# GOAL: Setup - Ensure correct state from previous segment
# ============================================================================

[GOAL: Verify starting state]

# Ensure we have torch and lantern
$take torch
$take brass lantern

# Ivory torch is always lit, just verify we have light
> look
[OK: contains "Living Room"]

[END GOAL]

# ============================================================================
# GOAL: Get hand pump from Reservoir North
# ============================================================================

[GOAL: Get hand pump]
[ENSURES: inventory contains "pump"]

$teleport Reservoir North

> look
[OK: contains "Reservoir"]

# Pump may already be in inventory from previous walkthrough
$take pump

> inventory
[OK: contains "pump"]

[END GOAL]

# ============================================================================
# GOAL: Get and inflate boat at Dam Base
# ============================================================================

[GOAL: Get and inflate boat]

$teleport Dam Base

> look
[OK: contains "Dam"]

> take plastic
[OK: contains "Taken"]

# Inflate the boat with the pump
> inflate boat
[OK: contains "inflate"]

[END GOAL]

# ============================================================================
# GOAL: Get buoy with emerald from Frigid River
# The buoy is at Frigid River-2
# ============================================================================

[GOAL: Get emerald from buoy]
[ENSURES: inventory contains "emerald"]

$teleport Frigid River-2

> look
[OK: contains "river"]

> take buoy
[OK: contains "Taken"]

# Open buoy to get emerald
> open buoy
[OK: contains "open"]

> take emerald
[OK: contains "emerald"]

> inventory
[OK: contains "emerald"]

[END GOAL]

# ============================================================================
# GOAL: Get sharp stick (sceptre) for rainbow puzzle
# The stick is at Dam Base - can't take on boat (punctures it)
# ============================================================================

[GOAL: Get sharp stick]
[ENSURES: inventory contains "stick"]

$teleport Dam Base

> take stick
[OK: contains "Taken"]

> inventory
[OK: contains "stick"]

[END GOAL]

# ============================================================================
# GOAL: Go to Aragain Falls and wave stick to create rainbow bridge
# ============================================================================

[GOAL: Create rainbow bridge]

$teleport Aragain Falls

> look
[OK: contains "Falls"]

# Wave the sharp stick to make rainbow solid
> wave stick
[OK: contains "rainbow"]

# Now we can cross the rainbow going east
> east
[OK: contains "Rainbow"]

[END GOAL]

# ============================================================================
# GOAL: Get pot of gold at End of Rainbow
# ============================================================================

[GOAL: Get pot of gold]
[ENSURES: inventory contains "pot"]

> east
[OK: contains "End of Rainbow"]

> look
[OK: contains "pot of gold"]

> take pot
[OK: contains "Taken"]

> inventory
[OK: contains "pot"]
[OK: contains "gold"]

[END GOAL]

# ============================================================================
# GOAL: Return to Living Room and store treasures
# ============================================================================

[GOAL: Return to Living Room]

$teleport Living Room

> look
[OK: contains "Living Room"]

[END GOAL]

# ============================================================================
# GOAL: Store treasures in trophy case
# ============================================================================

[GOAL: Store treasures in trophy case]

> open trophy case
[OK: contains "open"]

> put emerald in trophy case
[OK: contains "put"]

> put pot in trophy case
[OK: contains "put"]

[END GOAL]

# ============================================================================
# GOAL: Verify final state for next segment
# ============================================================================

[GOAL: Verify inventory for next segment]

> inventory
[OK: contains "torch"]
[OK: contains "lantern"]

> look
[OK: contains "Living Room"]
[OK: contains "trophy case"]

[END GOAL]

# SUCCESS! River & Rainbow complete
# Treasures stored: emerald, pot of gold
# Player in Living Room with torch + lantern
# Ready for next segment (well-tea-room)
