title: Get Torch Early (Save Lantern Battery)
story: dungeo
description: Priority path - get the torch ASAP to minimize lantern usage. Torch is unlimited, lantern has 330 turns.
---

# ============================================================================
# GOAL: Get torch as quickly as possible
# Critical path: Attic (rope) -> Living Room (lantern, sword) -> Underground -> Dome Room -> Torch Room
# ============================================================================

[GOAL: Collect essential items from house]
[ENSURES: inventory contains "rope"]
[ENSURES: inventory contains "lantern"]
[ENSURES: inventory contains "sword"]

# Start at West of House
> look
[OK: contains "West of House"]

# Enter house via back window
> north
[OK: contains "North"]

> east
[OK: contains "Behind House"]

> open window
[OK: matches /(open|Opening)/i]

> west
[OK: contains "Kitchen"]

> west
[OK: contains "Living Room"]

> take lantern
[OK: matches /(Taken|take)/i]

> take sword
[OK: matches /(Taken|take)/i]

> east
[OK: contains "Kitchen"]

> up
[OK: contains "Attic"]

> take rope
[OK: matches /(Taken|take)/i]

[END GOAL]

# ============================================================================
# GOAL: Enter underground and kill troll
# ============================================================================

[GOAL: Enter cellar and defeat troll]
[REQUIRES: inventory contains "lantern"]
[REQUIRES: inventory contains "sword"]
[ENSURES: not entity "troll" alive]

> down
[OK: contains "Kitchen"]

> west
[OK: contains "Living Room"]

> turn on lantern
[OK: matches /(on|lit|light)/i]

> move rug
[OK: matches /(trapdoor|rug|moved)/i]

> open trapdoor
[OK: matches /(open|Opening)/i]

> down
[OK: contains "Cellar"]

> east
[OK: contains "Troll Room"]

# Kill troll - combat loop
[WHILE: entity "troll" alive]
> attack troll with sword
[OK: matches /(attack|hit|miss|swing|blow|strike|kill|parr|slash|disarm|slain)/i]
[END WHILE]

[END GOAL]

# ============================================================================
# GOAL: Navigate to Dome Room and use rope puzzle
# Path from Troll Room: N -> E/W Passage -> N -> Deep Ravine -> W -> Rocky Crawl -> W -> Dome Room
# ============================================================================

[GOAL: Get to Dome Room]

> north
[OK: contains "East-West Passage"]

> north
[OK: contains "Deep Ravine"]

> west
[OK: contains "Rocky Crawl"]

> east
[OK: contains "Dome Room"]

[END GOAL]

# ============================================================================
# GOAL: Tie rope and descend to Torch Room
# ============================================================================

[GOAL: Get the torch]
[REQUIRES: inventory contains "rope"]
[ENSURES: inventory contains "torch"]

> tie rope to railing
[OK: matches /(rope|tied|railing|securely|fastened)/i]

> down
[OK: contains "Torch Room"]

> take torch
[OK: matches /(Taken|take)/i]

[END GOAL]

# ============================================================================
# GOAL: Switch to torch, save lantern battery
# ============================================================================

[GOAL: Switch light sources]

> turn on torch
[OK: matches /(on|lit|light)/i]

> turn off lantern
[OK: matches /(off|extinguish)/i]

# Verify we still have light
> look
[OK: contains "Torch Room"]

# Can navigate back up
> up
[OK: contains "Dome Room"]

> score
[OK: matches /[0-9]+.*points|scored/i]

[END GOAL]

# SUCCESS! Torch obtained with minimal lantern usage
# Now lantern is saved for Gas Room (where torch would explode)
