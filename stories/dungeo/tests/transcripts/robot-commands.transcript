title: Robot Commands
story: dungeo
description: Test commanding the robot - matches FORTRAN timefnc.for behavior

---

# Get lantern from Living Room first (need light for underground areas)
> north
[OK: contains "North of House"]

> east
[OK: contains "Behind House"]

# Window starts slightly ajar but not fully open - must open to enter
> open window
[OK: matches /(Opened|open)/i]

> west
[OK: contains "Kitchen"]

> west
[OK: contains "Living Room"]

> take lantern
[OK: contains "Taken"]

> switch on lantern
[OK: contains "on"]

# Get to the Low Room where robot is located
> gdt
[OK: contains "GAME DEBUGGING TOOL"]

> ah Low Room
[OK: contains "Teleported"]
[OK: contains "Low Room"]

> ex
[OK: contains "Returning to game"]

# Verify robot is here
> look
[OK: contains "Low Room"]
[OK: contains "robot"]

# Test FOLLOW/STAY commands - these are DUNGEON MASTER commands, NOT robot commands!
# Robot should respond with "stupid robot" message per FORTRAN timefnc.for
> tell robot to follow
[OK: contains "stupid robot"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.stupid_robot"]

> order robot to come
[OK: contains "stupid robot"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.stupid_robot"]

> tell robot to stay
[OK: contains "stupid robot"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.stupid_robot"]

> tell robot to wait
[OK: contains "stupid robot"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.stupid_robot"]

# Test push button when NOT in Machine Room - should fail
> tell robot to push button
[EVENT: true, type="game.message" messageId="dungeo.robot.no_button"]

# Test unknown command - robot can't do it
> tell robot to dance
[OK: contains "stupid robot"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.stupid_robot"]

# Test another unknown command
> order robot to sing a song
[OK: contains "stupid robot"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.stupid_robot"]

# Test known verbs that robot CAN execute (WALK, TAKE, DROP, PUSH, etc.)
# Robot says "Whirr, buzz, click!" then executes the action

# Test robot walk - robot should move to Machine Room (east)
> tell robot to go east
[OK: contains "Whirr"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.whirr_buzz_click"]

# Verify robot moved (robot is no longer in Low Room)
> look
[OK: contains "Low Room"]

# Go to Machine Room to verify robot moved there
> east
[OK: contains "Machine Room"]
[OK: contains "robot"]

# Test robot take command - robot takes something
# First, drop the lantern so robot can take it
> drop lantern
[OK: contains "Dropped"]

> tell robot to take lantern
[OK: contains "Whirr"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.whirr_buzz_click"]
[EVENT: true, type="game.message" messageId="dungeo.robot.takes_object"]

# Verify lantern is no longer on floor
> look
[OK: contains "Machine Room"]
[OK: contains "robot"]

# Test robot drop command - robot drops the lantern
> tell robot to drop lantern
[OK: contains "Whirr"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.whirr_buzz_click"]
[EVENT: true, type="game.message" messageId="dungeo.robot.drops_object"]

# Take lantern back
> take lantern
[OK: contains "Taken"]

# Test push button - now it should work since robot is in Machine Room
> tell robot to push button
[OK: contains "Whirr"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.whirr_buzz_click"]
[EVENT: true, type="game.message" messageId="dungeo.robot.pushes_button"]
[EVENT: true, type="game.message" messageId="dungeo.robot.carousel_fixed"]

# Try pushing button again - already pushed
> tell robot to press button
[EVENT: true, type="game.message" messageId="dungeo.robot.already_pushed"]

# Test other known verbs - robot says "buzz" (execution depends on context)
> tell robot to throw lantern
[OK: contains "Whirr"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.whirr_buzz_click"]

> tell robot to turn dial
[OK: contains "Whirr"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.whirr_buzz_click"]

> tell robot to leap
[OK: contains "Whirr"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.whirr_buzz_click"]

# Test commanding a non-robot NPC (should fail)
# First, teleport to Cyclops Room
> gdt
[OK: contains "GAME DEBUGGING TOOL"]

> ah Cyclops Room
[OK: contains "Teleported"]

> ex
[OK: contains "Returning to game"]

# Try to command the cyclops
> tell cyclops to dance
[OK: contains "cannot command"]
[EVENT: true, type="game.message" messageId="dungeo.commanding.cant_command"]
