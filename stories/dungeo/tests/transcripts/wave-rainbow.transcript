title: Wave Stick - Rainbow Puzzle
story: dungeo
description: Tests WAVE action and rainbow exit mechanics at Aragain Falls

---

# Get equipped and teleport to Aragain Falls
> gdt
[OK: contains "GDT"]

> tk brass lantern
[OK: contains "Taken"]

> tk stick
[OK: contains "Taken"]

> ex
[OK: contains "Returning"]

> turn on lantern
[OK: contains "on"]

> gdt
[OK: contains "GDT"]

> ah Aragain Falls
[OK: contains "Teleported"]

> ex
[OK: contains "Returning"]

# Check we're at the falls
> look
[OK: contains "Aragain Falls"]
[OK: contains "rainbow"]

# Try to go east onto rainbow before waving - should be blocked
> east
[OK: matches /insubstantial|no_exit_that_way/i]

# Wave the stick to create solid rainbow
> wave stick
[OK: contains "rainbow"]
[OK: matches /appears|shimmering/i]

# Now we should be able to go east onto the rainbow
> east
[OK: contains "On the Rainbow"]

# Continue east to End of Rainbow
> east
[OK: contains "End of Rainbow"]

# Get the pot of gold
> take pot
[OK: contains "Taken"]

# Go back to Aragain Falls
> west
[OK: contains "On the Rainbow"]

> west
[OK: contains "Aragain Falls"]

# Wave again to dismiss rainbow
> wave stick
[OK: contains "rainbow"]
[OK: matches /run of the mill|fades|gone|disappears/i]

# Should no longer be able to go east
> east
[OK: matches /insubstantial|no_exit_that_way/i]
