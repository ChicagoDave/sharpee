title: Implicit Take for Put Test
story: dungeo
description: Test that PUT X IN Y implicitly takes X first

---

# Setup via GDT
> gdt
[OK: contains "GDT"]

# Get lamp and pump
> tk brass lantern
[OK: contains "Taken"]

> tk hand pump
[OK: contains "Taken"]

# Go to Dam Base
> ah Dam Base
[OK: contains "Dam Base"]

> ex
[OK: contains "Returning"]

> turn on lantern
[OK: matches /(on|already)/i]

# Inflate the boat
> inflate boat
[OK: matches /(inflate|seaworthy)/i]

# Verify stick is here but NOT in inventory
> look
[OK: contains "stick"]

> i
[FAIL: contains "stick"]

# Now try to put stick in boat WITHOUT taking it first
# This should implicitly take the stick, then put it in boat
> put stick in boat
[OK: matches /(Done|put|boat|first|taken)/i]

# Verify stick was taken implicitly then put in boat
# Container contents are now shown when examining containers
> x boat
[OK: contains "stick"]
[OK: matches /In.*boat.*you see/i]

# Verify we no longer have stick in inventory (it's in the boat)
> i
[FAIL: contains "stick"]
